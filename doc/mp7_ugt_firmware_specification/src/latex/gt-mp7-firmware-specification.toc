\select@language {english}
\contentsline {section}{List of Figures}{8}{section*.1}
\contentsline {section}{List of Tables}{9}{section*.2}
\contentsline {section}{\numberline {1}Global Trigger System overview}{10}{section.1}
\contentsline {section}{\numberline {2}Firmware overview}{10}{section.2}
\contentsline {subsection}{\numberline {2.1}Firmware version}{11}{subsection.2.1}
\contentsline {subsection}{\numberline {2.2}Directory structure of Global Trigger firmware}{11}{subsection.2.2}
\contentsline {subsubsection}{\numberline {2.2.1}Package: lhc\_data\_pkg}{11}{subsubsection.2.2.1}
\contentsline {section}{\numberline {3}Framework}{12}{section.3}
\contentsline {subsection}{\numberline {3.1}Configuration of optical connections}{12}{subsection.3.1}
\contentsline {subsection}{\numberline {3.2}Demux Lane Data}{14}{subsection.3.2}
\contentsline {subsection}{\numberline {3.3}Lane Mapping Process}{14}{subsection.3.3}
\contentsline {subsubsection}{\numberline {3.3.1}Implementation}{14}{subsubsection.3.3.1}
\contentsline {subsection}{\numberline {3.4}SIM and SPY Memory}{14}{subsection.3.4}
\contentsline {subsubsection}{\numberline {3.4.1}Implementation}{15}{subsubsection.3.4.1}
\contentsline {paragraph}{\numberline {3.4.1.1}SPY Trigger}{16}{paragraph.3.4.1.1}
\contentsline {paragraph}{\numberline {3.4.1.2}SIM/SPY memory}{16}{paragraph.3.4.1.2}
\contentsline {paragraph}{\numberline {3.4.1.3}SPY memory II}{18}{paragraph.3.4.1.3}
\contentsline {paragraph}{\numberline {3.4.1.4}SPY memory III}{18}{paragraph.3.4.1.4}
\contentsline {subsubsection}{\numberline {3.4.2}Interface Specification}{19}{subsubsection.3.4.2}
\contentsline {subsection}{\numberline {3.5}TCM}{19}{subsection.3.5}
\contentsline {subsubsection}{\numberline {3.5.1}Counter Overview}{19}{subsubsection.3.5.1}
\contentsline {subsubsection}{\numberline {3.5.2}Bunch Crossing Number and counters derived from it}{20}{subsubsection.3.5.2}
\contentsline {subsubsection}{\numberline {3.5.3}Special counter: bx\_nr\_d\_fdl}{20}{subsubsection.3.5.3}
\contentsline {subsubsection}{\numberline {3.5.4}Counters derived from l1a}{20}{subsubsection.3.5.4}
\contentsline {subsubsection}{\numberline {3.5.5}Errors}{20}{subsubsection.3.5.5}
\contentsline {subsubsection}{\numberline {3.5.6}SW-Registers}{21}{subsubsection.3.5.6}
\contentsline {subsubsection}{\numberline {3.5.7}Hardware Test}{25}{subsubsection.3.5.7}
\contentsline {subsection}{\numberline {3.6}Software Reset}{25}{subsection.3.6}
\contentsline {section}{\numberline {4}Global Trigger Logic}{26}{section.4}
\contentsline {subsection}{\numberline {4.1}\ensuremath {\mu \mathrm {GTL}}\xspace Interface}{26}{subsection.4.1}
\contentsline {subsection}{\numberline {4.2}Definition of optical interfaces}{27}{subsection.4.2}
\contentsline {subsubsection}{\numberline {4.2.1}Calo-Layer2 optical interfaces}{27}{subsubsection.4.2.1}
\contentsline {subsubsection}{\numberline {4.2.2}Global~Muon~Trigger\xspace optical interfaces}{28}{subsubsection.4.2.2}
\contentsline {subsection}{\numberline {4.3}Implementation in firmware}{29}{subsection.4.3}
\contentsline {subsubsection}{\numberline {4.3.1}Top-of-hierarchy module}{29}{subsubsection.4.3.1}
\contentsline {subsection}{\numberline {4.4}\ensuremath {\mu \mathrm {GTL}}\xspace structure}{32}{subsection.4.4}
\contentsline {subsubsection}{\numberline {4.4.1}Data $\pm $2bx}{32}{subsubsection.4.4.1}
\contentsline {subsubsection}{\numberline {4.4.2}Definitions of Calorimeter data}{33}{subsubsection.4.4.2}
\contentsline {subsubsection}{\numberline {4.4.3}Definitions of Energy sum quantities data}{35}{subsubsection.4.4.3}
\contentsline {subsubsection}{\numberline {4.4.4}Definitions of Muon data}{37}{subsubsection.4.4.4}
\contentsline {subsubsection}{\numberline {4.4.5}Calculation of differences in $\eta $ and $\varphi $}{39}{subsubsection.4.4.5}
\contentsline {subsubsection}{\numberline {4.4.6}Combination conditions}{40}{subsubsection.4.4.6}
\contentsline {paragraph}{\numberline {4.4.6.1}Combination conditions definition}{40}{paragraph.4.4.6.1}
\contentsline {subparagraph}{\numberline {4.4.6.1.1}Object cuts}{41}{subparagraph.4.4.6.1.1}
\contentsline {subsubsection}{\numberline {4.4.7}Energy sum quantities conditions}{47}{subsubsection.4.4.7}
\contentsline {paragraph}{\numberline {4.4.7.1}Energy sum quantities conditions module (including Asymmetry conditions)}{47}{paragraph.4.4.7.1}
\contentsline {subsubsection}{\numberline {4.4.8}Minimum bias trigger conditions}{48}{subsubsection.4.4.8}
\contentsline {subsubsection}{\numberline {4.4.9}Towercount condition}{48}{subsubsection.4.4.9}
\contentsline {subsubsection}{\numberline {4.4.10}Centrality condition}{48}{subsubsection.4.4.10}
\contentsline {subsubsection}{\numberline {4.4.11}Muon charge correlation module}{48}{subsubsection.4.4.11}
\contentsline {subsubsection}{\numberline {4.4.12}Correlation conditions}{50}{subsubsection.4.4.12}
\contentsline {paragraph}{\numberline {4.4.12.1}Calculation of cuts}{50}{paragraph.4.4.12.1}
\contentsline {subparagraph}{\numberline {4.4.12.1.1}$\Delta $R calculation}{50}{subparagraph.4.4.12.1.1}
\contentsline {subparagraph}{\numberline {4.4.12.1.2}Invariant mass calculation}{51}{subparagraph.4.4.12.1.2}
\contentsline {subparagraph}{\numberline {4.4.12.1.3}Transverse mass calculation}{51}{subparagraph.4.4.12.1.3}
\contentsline {subparagraph}{\numberline {4.4.12.1.4}Two-body pt calculation}{52}{subparagraph.4.4.12.1.4}
\contentsline {subparagraph}{\numberline {4.4.12.1.5}Invariant mass over $\Delta $R calculation}{52}{subparagraph.4.4.12.1.5}
\contentsline {subparagraph}{\numberline {4.4.12.1.6}Invariant mass calculation for three objects}{53}{subparagraph.4.4.12.1.6}
\contentsline {subparagraph}{\numberline {4.4.12.1.7}Overview of possible correlation cuts}{53}{subparagraph.4.4.12.1.7}
\contentsline {paragraph}{\numberline {4.4.12.2}Correlation condition module}{55}{paragraph.4.4.12.2}
\contentsline {subsubsection}{\numberline {4.4.13}External Conditions}{56}{subsubsection.4.4.13}
\contentsline {subsubsection}{\numberline {4.4.14}Algorithms logic}{56}{subsubsection.4.4.14}
\contentsline {section}{\numberline {5}Final Desicion Logic}{56}{section.5}
\contentsline {subsection}{\numberline {5.1}\ensuremath {\mu \mathrm {FDL}}\xspace Interface}{56}{subsection.5.1}
\contentsline {subsection}{\numberline {5.2}MP7 Final-OR\xspace hardware solution}{57}{subsection.5.2}
\contentsline {subsection}{\numberline {5.3}Data flow}{58}{subsection.5.3}
\contentsline {subsection}{\numberline {5.4}Main parts}{59}{subsection.5.4}
\contentsline {subsubsection}{\numberline {5.4.1}Registers and memories}{59}{subsubsection.5.4.1}
\contentsline {paragraph}{\numberline {5.4.1.1}Register map}{60}{paragraph.5.4.1.1}
\contentsline {subsubsection}{\numberline {5.4.2}Algo-bx-masks}{68}{subsubsection.5.4.2}
\contentsline {subsubsection}{\numberline {5.4.3}Rate-counters}{68}{subsubsection.5.4.3}
\contentsline {subsubsection}{\numberline {5.4.4}Prescalers}{68}{subsubsection.5.4.4}
\contentsline {subsubsection}{\numberline {5.4.5}Finor-masks}{68}{subsubsection.5.4.5}
\contentsline {subsubsection}{\numberline {5.4.6}Veto-masks}{68}{subsubsection.5.4.6}
\contentsline {subsubsection}{\numberline {5.4.7}Finor}{69}{subsubsection.5.4.7}
\contentsline {subsection}{\numberline {5.5}Implementation in firmware}{69}{subsection.5.5}
\contentsline {section}{\numberline {6}Readout-Process}{71}{section.6}
\contentsline {section}{\numberline {7}Glossary}{72}{section.7}
\contentsline {section}{Bibliography}{74}{section*.3}
\contentsline {section}{Index}{74}{section*.4}
